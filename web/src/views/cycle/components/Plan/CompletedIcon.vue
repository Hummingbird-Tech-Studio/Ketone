<template>
  <div class="completed-icon">
    <div class="completed-icon__blur" :class="{ 'completed-icon__blur--active': animate }"></div>
    <div class="completed-icon__blur" :class="{ 'completed-icon__blur--active': animate }"></div>
    <svg
      class="completed-icon__svg"
      width="74"
      height="74"
      viewBox="0 0 74 74"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <rect width="74" height="74" rx="37" fill="#F9F9F9" />
      <path
        opacity="0.64"
        d="M37 4.5C54.3826 4.5 68.5 19.0361 68.5 37C68.5 54.9639 54.3826 69.5 37 69.5C19.6174 69.5 5.5 54.9639 5.5 37C5.5 19.0361 19.6174 4.5 37 4.5Z"
        stroke="#E1E1E1"
      />
      <path
        fill-rule="evenodd"
        clip-rule="evenodd"
        d="M27.3773 34.4314C26.9125 34.4399 26.46 34.5719 26.1169 34.915C25.9803 35.0515 25.88 35.2068 25.8046 35.3721C25.8022 35.3753 25.7998 35.3786 25.7974 35.3819L17.0613 55.0988C17.0029 55.2305 16.9857 55.3768 17.012 55.5185C17.0383 55.6601 17.1069 55.7905 17.2087 55.8924C17.3106 55.9944 17.4409 56.0631 17.5826 56.0896C17.7242 56.1162 17.8706 56.0992 18.0024 56.041L37.6719 47.3302C37.6794 47.3262 37.6869 47.322 37.6942 47.3177C37.8752 47.2409 38.0454 47.1352 38.1933 46.9874C38.6509 46.53 38.7337 45.8784 38.6479 45.2633C38.562 44.6483 38.317 43.9941 37.9521 43.287C37.2223 41.8729 35.9978 40.2518 34.4262 38.6808C32.8546 37.1098 31.2344 35.887 29.8197 35.1575C29.1124 34.7927 28.458 34.5465 27.8427 34.4606C27.6889 34.4392 27.5322 34.4285 27.3773 34.4314ZM27.4135 35.8557C27.4771 35.8558 27.5531 35.861 27.645 35.8739C28.0125 35.9251 28.5508 36.1092 29.1647 36.4258C30.3923 37.0589 31.9325 38.2059 33.417 39.6899C34.9015 41.1738 36.0503 42.7149 36.6836 43.9421C37.0003 44.5557 37.183 45.0924 37.2343 45.4598C37.2856 45.8273 37.2146 45.9479 37.1841 45.9783C37.1537 46.0087 37.0331 46.0811 36.6655 46.0299C36.2979 45.9786 35.7596 45.7959 35.1458 45.4794C33.9182 44.8463 32.3766 43.6978 30.8921 42.2139C29.4076 40.7299 28.2602 39.1903 27.6268 37.963C27.3102 37.3494 27.1274 36.8113 27.0761 36.4439C27.0389 36.1768 27.0662 36.0423 27.0956 35.9756L27.1027 35.9617V35.9602C27.1112 35.9443 27.12 35.9304 27.1264 35.924C27.1493 35.9012 27.2228 35.8555 27.4135 35.8557ZM26.1336 38.1484C26.2034 38.3023 26.2773 38.4575 26.3595 38.6167C27.0893 40.0309 28.3111 41.6519 29.8827 43.2229C31.4543 44.794 33.0772 46.0167 34.4919 46.7462C34.6502 46.8279 34.8045 46.9013 34.9576 46.9706L29.4546 49.4069C28.2869 48.7213 26.9477 47.6648 25.7098 46.4285C24.9048 45.6229 24.1714 44.7698 23.5655 43.9435L26.1336 38.1484ZM22.9074 45.4306C23.448 46.1099 24.0519 46.7871 24.7004 47.4361C25.7343 48.469 26.8266 49.3845 27.8848 50.1023L19.1152 53.9866L22.9074 45.4306Z"
        fill="#494949"
      />
      <path
        fill-rule="evenodd"
        clip-rule="evenodd"
        d="M52.4396 32.8007C48.5469 32.4635 45.3063 33.8485 42.9408 35.5338C39.7869 37.7808 38.0708 40.5776 38.0708 40.5776C38.0216 40.6575 37.9886 40.7463 37.9737 40.8389C37.9588 40.9316 37.9624 41.0262 37.9841 41.1175C38.0059 41.2088 38.0454 41.2948 38.1005 41.3708C38.1556 41.4468 38.2251 41.5111 38.3051 41.5602C38.4663 41.6592 38.6603 41.6901 38.8443 41.6462C39.0284 41.6023 39.1874 41.4872 39.2866 41.3261C39.2866 41.3261 40.8709 38.7609 43.769 36.6961C46.6671 34.6314 50.7611 33.0844 56.0311 35.0975C56.2078 35.1651 56.4042 35.1598 56.577 35.0827C56.7498 35.0056 56.8849 34.863 56.9526 34.6864C57.0202 34.5097 57.0149 34.3134 56.9378 34.1407C56.8606 33.9679 56.7181 33.8328 56.5413 33.7652C55.1071 33.2173 53.7371 32.9131 52.4396 32.8007Z"
        fill="#494949"
      />
      <path
        fill-rule="evenodd"
        clip-rule="evenodd"
        d="M45.8422 19.8935C45.6538 19.876 45.4662 19.934 45.3206 20.0548C45.175 20.1755 45.0833 20.3491 45.0656 20.5374C45.0656 20.5374 44.7786 23.5381 43.0928 26.6711C41.407 29.8042 38.4194 33.0026 32.8021 33.5268C32.6138 33.5445 32.4401 33.6362 32.3194 33.7817C32.1986 33.9273 32.1405 34.1148 32.158 34.3031C32.1757 34.4914 32.2674 34.665 32.413 34.7857C32.5586 34.9065 32.7462 34.9645 32.9346 34.947C39.0496 34.3763 42.5157 30.7568 44.3504 27.3471C46.185 23.9374 46.4863 20.6698 46.4863 20.6698C46.5037 20.4815 46.4457 20.2939 46.3249 20.1484C46.2042 20.0028 46.0305 19.9111 45.8422 19.8935Z"
        fill="#494949"
      />
      <path
        fill-rule="evenodd"
        clip-rule="evenodd"
        d="M30.0137 25.2802C28.8394 25.2802 27.8722 26.2471 27.8722 27.4209C27.8722 28.5948 28.8394 29.5617 30.0137 29.5617C31.1879 29.5617 32.1552 28.5948 32.1552 27.4209C32.1552 26.2471 31.1879 25.2802 30.0137 25.2802ZM30.0137 26.7074C30.4164 26.7074 30.7275 27.0184 30.7275 27.4209C30.7275 27.8235 30.4164 28.1345 30.0137 28.1345C29.611 28.1345 29.2998 27.8235 29.2998 27.4209C29.2998 27.0184 29.611 26.7074 30.0137 26.7074Z"
        fill="#494949"
      />
      <path
        fill-rule="evenodd"
        clip-rule="evenodd"
        d="M53.7236 19.6774C52.3063 19.6774 51.1415 20.8418 51.1415 22.2586C51.1415 23.6755 52.3063 24.8398 53.7236 24.8398C55.141 24.8398 56.3057 23.6755 56.3057 22.2586C56.3057 20.8418 55.141 19.6774 53.7236 19.6774ZM53.7236 21.1046C54.3694 21.1046 54.878 21.6131 54.878 22.2586C54.878 22.9042 54.3694 23.4126 53.7236 23.4126C53.0778 23.4126 52.5692 22.9042 52.5692 22.2586C52.5692 21.6131 53.0778 21.1046 53.7236 21.1046Z"
        fill="#494949"
      />
      <path
        fill-rule="evenodd"
        clip-rule="evenodd"
        d="M54.8585 46.8104C53.6842 46.8104 52.717 47.7773 52.717 48.9511C52.717 50.125 53.6842 51.0919 54.8585 51.0919C56.0328 51.0919 57 50.125 57 48.9511C57 47.7773 56.0328 46.8104 54.8585 46.8104ZM54.8585 48.2375C55.2612 48.2375 55.5723 48.5486 55.5723 48.9511C55.5723 49.3537 55.2612 49.6647 54.8585 49.6647C54.4558 49.6647 54.1447 49.3537 54.1447 48.9511C54.1447 48.5486 54.4558 48.2375 54.8585 48.2375Z"
        fill="#494949"
      />
      <path
        fill-rule="evenodd"
        clip-rule="evenodd"
        d="M39.3229 19.7374C39.1335 19.7374 38.952 19.8126 38.8181 19.9464C38.6842 20.0802 38.609 20.2617 38.609 20.451V21.4405H37.6191C37.4298 21.4405 37.2483 21.5157 37.1144 21.6495C36.9805 21.7833 36.9053 21.9648 36.9053 22.1541C36.9053 22.3433 36.9805 22.5248 37.1144 22.6587C37.2483 22.7925 37.4298 22.8677 37.6191 22.8677H38.609V23.8572C38.609 24.0465 38.6842 24.228 38.8181 24.3618C38.952 24.4956 39.1335 24.5708 39.3229 24.5708C39.5122 24.5708 39.6938 24.4956 39.8276 24.3618C39.9615 24.228 40.0367 24.0465 40.0367 23.8572V22.8677H41.0266C41.2159 22.8677 41.3975 22.7925 41.5313 22.6587C41.6652 22.5248 41.7404 22.3433 41.7404 22.1541C41.7404 21.9648 41.6652 21.7833 41.5313 21.6495C41.3975 21.5157 41.2159 21.4405 41.0266 21.4405H40.0367V20.451C40.0367 20.2617 39.9615 20.0802 39.8276 19.9464C39.6938 19.8126 39.5122 19.7374 39.3229 19.7374Z"
        fill="#494949"
      />
      <path
        fill-rule="evenodd"
        clip-rule="evenodd"
        d="M48.0185 26.9819C47.8292 26.982 47.6476 27.0572 47.5138 27.191C47.38 27.3248 47.3048 27.5063 47.3048 27.6955C47.3048 27.8847 47.38 28.0662 47.5138 28.2L48.2137 28.8997L47.5138 29.5993C47.38 29.7331 47.3048 29.9146 47.3048 30.1039C47.3048 30.2931 47.38 30.4746 47.5138 30.6084C47.6477 30.7422 47.8292 30.8173 48.0185 30.8173C48.2078 30.8173 48.3893 30.7422 48.5232 30.6084L49.2231 29.9087L49.923 30.6084C50.0569 30.7422 50.2384 30.8173 50.4277 30.8173C50.617 30.8173 50.7985 30.7422 50.9324 30.6084C51.0662 30.4746 51.1414 30.2931 51.1414 30.1039C51.1414 29.9146 51.0662 29.7331 50.9324 29.5993L50.2325 28.8997L50.9324 28.2C51.0662 28.0662 51.1414 27.8847 51.1414 27.6955C51.1414 27.5063 51.0662 27.3248 50.9324 27.191C50.7986 27.0572 50.617 26.982 50.4277 26.9819C50.2384 26.982 50.0568 27.0572 49.923 27.191L49.2231 27.8906L48.5232 27.191C48.3894 27.0572 48.2078 26.982 48.0185 26.9819Z"
        fill="#494949"
      />
      <path
        fill-rule="evenodd"
        clip-rule="evenodd"
        d="M48.724 39.963C48.5346 39.963 48.3531 40.0382 48.2192 40.172C48.0854 40.3058 48.0101 40.4873 48.0101 40.6766V41.6661H47.0202C46.8309 41.6661 46.6494 41.7413 46.5155 41.8751C46.3816 42.009 46.3064 42.1905 46.3064 42.3797C46.3064 42.569 46.3816 42.7505 46.5155 42.8843C46.6494 43.0181 46.8309 43.0933 47.0202 43.0933H48.0101V44.0829C48.0101 44.2721 48.0854 44.4536 48.2192 44.5874C48.3531 44.7213 48.5346 44.7964 48.724 44.7964C48.9133 44.7964 49.0949 44.7213 49.2287 44.5874C49.3626 44.4536 49.4378 44.2721 49.4378 44.0829V43.0933H50.4277C50.617 43.0933 50.7986 43.0181 50.9325 42.8843C51.0663 42.7505 51.1415 42.569 51.1415 42.3797C51.1415 42.1905 51.0663 42.009 50.9325 41.8751C50.7986 41.7413 50.617 41.6661 50.4277 41.6661H49.4378V40.6766C49.4378 40.4873 49.3626 40.3058 49.2287 40.172C49.0949 40.0382 48.9133 39.963 48.724 39.963Z"
        fill="#494949"
      />
      <path
        fill-rule="evenodd"
        clip-rule="evenodd"
        d="M42.0848 46.4048C41.9917 46.417 41.902 46.4474 41.8208 46.4943C41.7395 46.5412 41.6682 46.6036 41.6111 46.678C41.554 46.7525 41.5122 46.8374 41.488 46.9281C41.4637 47.0187 41.4576 47.1132 41.4699 47.2062C41.4949 47.3938 41.5934 47.5637 41.7437 47.6788C41.8941 47.7938 42.084 47.8443 42.2716 47.8194C42.4709 47.7931 42.6746 47.7931 42.8739 47.8194C43.1042 47.8499 43.3189 47.9159 43.4985 48.0131C43.6763 48.1094 43.8267 48.2415 43.9237 48.3867C44.019 48.5291 44.0696 48.6995 44.0673 48.8438C44.0652 48.9838 44.007 49.127 43.9307 49.2103C43.8782 49.2677 43.7923 49.3295 43.6825 49.3762C43.571 49.4236 43.4316 49.4584 43.2699 49.4835C42.9455 49.5339 42.5268 49.5308 42.0374 49.6285C41.2441 49.7867 40.5194 50.2029 39.9823 50.8075C39.4452 51.4122 39.1185 52.1811 39.0552 52.9873C38.9918 53.7935 39.1949 54.603 39.631 55.2842C40.067 55.9653 40.7181 56.4897 41.4769 56.7699C42.2357 57.0501 43.0714 57.0752 43.8457 56.841C44.6199 56.6067 45.3005 56.1233 45.7766 55.4695C46.2528 54.8158 46.504 54.0188 46.4891 53.2103C46.4742 52.4018 46.1943 51.6148 45.6944 50.979C45.6364 50.9053 45.5646 50.8438 45.4828 50.7979C45.4011 50.752 45.3111 50.7226 45.218 50.7115C45.1249 50.7004 45.0306 50.7077 44.9403 50.733C44.85 50.7583 44.7656 50.8012 44.692 50.8591C44.6183 50.917 44.5567 50.9889 44.5108 51.0706C44.4649 51.1523 44.4355 51.2423 44.4244 51.3353C44.4132 51.4284 44.4206 51.5227 44.4459 51.6129C44.4712 51.7032 44.5141 51.7875 44.5721 51.8612C44.8751 52.2466 45.0524 52.7466 45.0614 53.2368C45.0704 53.7269 44.9109 54.2328 44.6222 54.6291C44.3336 55.0254 43.901 55.3331 43.4316 55.4751C42.9622 55.6171 42.4319 55.6004 41.9718 55.4305C41.5118 55.2606 41.0971 54.9277 40.8328 54.5148C40.5684 54.1019 40.4402 53.5875 40.4787 53.0988C40.5171 52.6101 40.7247 52.1218 41.0503 51.7553C41.3759 51.3887 41.8367 51.1251 42.3176 51.0291C42.6196 50.9689 43.0157 50.9674 43.4888 50.894C43.7258 50.8572 43.9819 50.7995 44.2416 50.6891C44.5032 50.5779 44.7648 50.4151 44.9847 50.1748C45.3216 49.8067 45.4873 49.338 45.495 48.8661C45.5024 48.3986 45.3552 47.9599 45.1102 47.5936C44.8671 47.2301 44.5393 46.9526 44.1789 46.7574C43.8203 46.5632 43.4373 46.4546 43.0607 46.4048C42.7367 46.3619 42.4088 46.3619 42.0848 46.4048Z"
        fill="#494949"
      />
      <path
        fill-rule="evenodd"
        clip-rule="evenodd"
        d="M23.4526 17.0796C23.043 16.9717 22.6138 16.9739 22.2048 17.0837C21.7957 17.1936 21.4233 17.4068 21.1229 17.7053C21.0562 17.7714 21.0032 17.85 20.967 17.9366C20.9308 18.0232 20.912 18.1161 20.9117 18.21C20.9114 18.3038 20.9297 18.3968 20.9655 18.4836C21.0012 18.5704 21.0537 18.6493 21.12 18.7158C21.2535 18.8499 21.4348 18.9256 21.6241 18.9261C21.8134 18.9267 21.9952 18.852 22.1294 18.7186C22.2505 18.5983 22.4107 18.5064 22.5756 18.4621C22.7404 18.4179 22.925 18.4173 23.09 18.4607C23.2551 18.5042 23.4145 18.5947 23.5362 18.7144C23.6578 18.8341 23.7522 18.9933 23.7983 19.1576C23.8801 19.4491 23.8254 19.8896 23.7954 20.4593C23.7804 20.7457 23.7784 21.0691 23.854 21.4154C23.9305 21.7662 24.0861 22.1334 24.381 22.4384C24.6285 22.6943 24.9426 22.8704 25.29 22.9485C25.6374 23.0267 25.9968 23.0027 26.3301 22.8774C26.6634 22.7522 26.9498 22.5336 27.1596 22.2461C27.3695 21.9585 27.4892 21.6204 27.5068 21.2649C27.5115 21.1713 27.4977 21.0776 27.4662 20.9894C27.4347 20.9011 27.386 20.8199 27.3231 20.7503C27.2602 20.6808 27.1842 20.6244 27.0994 20.5843C27.0147 20.5442 26.9229 20.5211 26.8292 20.5165C26.7356 20.5118 26.6419 20.5256 26.5536 20.5571C26.4653 20.5886 26.384 20.6372 26.3145 20.7001C26.2449 20.763 26.1885 20.839 26.1484 20.9237C26.1082 21.0084 26.0852 21.1002 26.0805 21.1938C26.077 21.2658 26.0477 21.3475 26.0052 21.4057C25.9628 21.4639 25.8942 21.5155 25.8268 21.5409C25.7593 21.5662 25.674 21.572 25.6037 21.5562C25.5334 21.5404 25.4586 21.4979 25.4085 21.4461C25.3463 21.3818 25.2825 21.2626 25.2496 21.1116C25.2157 20.9561 25.2084 20.7611 25.2203 20.5346C25.2442 20.0786 25.3685 19.469 25.1729 18.7715C25.0585 18.3638 24.839 17.994 24.5372 17.697C24.2353 17.4 23.8622 17.1874 23.4526 17.0796Z"
        fill="#494949"
      />
    </svg>
  </div>
</template>

<script setup lang="ts">
interface Props {
  animate?: boolean;
}

withDefaults(defineProps<Props>(), {
  animate: true,
});
</script>

<style scoped lang="scss">
@use '@/styles/variables' as *;

@keyframes rotate-glow {
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(360deg);
  }
}

.completed-icon {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 74px;
  height: 74px;

  &__svg {
    position: relative;
    z-index: 1;
  }

  &__blur {
    position: absolute;
    width: 74px;
    height: 74px;
    border-radius: 50%;
    filter: blur(15px);
    animation: rotate-glow 15s linear infinite;
    animation-play-state: paused;
    opacity: 0;
    transition: opacity 0.5s ease-in-out;
    background: conic-gradient(
      from 90deg at 50% 50%,
      $color-purple 0deg,
      $color-blue 90deg,
      $color-green 180deg,
      $color-orange 270deg,
      $color-purple 360deg
    );

    &--active {
      animation-play-state: running;
      opacity: 1;
    }
  }
}
</style>
